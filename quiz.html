<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz BPF - Boas Práticas de Fabricação</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 0;
            color: white;
            animation: fadeInDown 1s ease;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .quiz-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 30px;
            margin-bottom: 30px;
            animation: fadeInUp 1s ease;
        }

        .name-input {
            margin-bottom: 25px;
            padding: 20px;
            border-radius: 10px;
            background: #f8f9fa;
            border-left: 5px solid #1e3c72;
        }

        .name-label {
            font-weight: bold;
            color: #1e3c72;
            margin-bottom: 10px;
            display: block;
            font-size: 1.1rem;
        }

        .name-field {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .name-field:focus {
            border-color: #1e3c72;
            outline: none;
        }

        .question {
            margin-bottom: 25px;
            padding: 20px;
            border-radius: 10px;
            background: #f8f9fa;
            border-left: 5px solid #28a745;
        }

        .question-number {
            font-weight: bold;
            color: #1e3c72;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .question-text {
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        .options {
            display: grid;
            gap: 10px;
        }

        .option {
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .option:hover {
            border-color: #1e3c72;
            transform: translateY(-2px);
        }

        .option.selected {
            border-color: #28a745;
            background: #d4edda;
        }

        .option.correct {
            border-color: #28a745;
            background: #d4edda;
            font-weight: bold;
        }

        .option.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
        }

        .submit-btn {
            background: linear-gradient(to right, #1e3c72, #2a5298);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            display: block;
            margin: 30px auto;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .result-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
            display: none;
        }

        .score {
            font-size: 3rem;
            font-weight: bold;
            color: #1e3c72;
            margin: 20px 0;
        }

        .feedback {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .ranking-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 30px;
            margin-top: 20px;
        }

        .ranking-title {
            text-align: center;
            color: #1e3c72;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #1e3c72;
            color: white;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        tr:hover {
            background-color: #e8f4f8;
        }

        .restart-btn {
            background: linear-gradient(to right, #28a745, #20c997);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .restart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .correct-answer {
            color: #28a745;
            font-weight: bold;
        }

        .incorrect-answer {
            color: #dc3545;
            font-weight: bold;
        }

        .answer-indicator {
            float: right;
            font-weight: bold;
            padding: 2px 8px;
            border-radius: 4px;
        }

        .correct-indicator {
            background-color: #28a745;
            color: white;
        }

        .incorrect-indicator {
            background-color: #dc3545;
            color: white;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .quiz-container, .result-container, .ranking-container {
                padding: 20px;
            }
            
            .question, .option {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>_quiz BPF</h1>
            <p class="subtitle">Boas Práticas de Fabricação - Teste seus conhecimentos</p>
        </header>

        <div class="quiz-container" id="quizContainer">
            <div class="name-input">
                <label class="name-label">Seu Nome:</label>
                <input type="text" class="name-field" id="participantName" placeholder="Digite seu nome completo">
            </div>

            <div class="question">
                <div class="question-number">Questão 1:</div>
                <div class="question-text">O principal objetivo da RDC 658/2022 é estabelecer os requisitos mínimos de Boas Práticas de fabricação para todas as empresas envolvidas na fabricação de medicamentos, inclusive em caráter experimental.</div>
                <div class="options">
                    <div class="option" data-question="1" data-value="a">() Correta</div>
                    <div class="option" data-question="1" data-value="b">() Incorreta</div>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Questão 2:</div>
                <div class="question-text">A resolução que possui o objetivo de adotar as diretrizes gerais de Boas Práticas de Fabricação de Medicamentos do Esquema de Cooperação em Inspeção Farmacêutica, PIC/S, como requisitos mínimos a serem seguidos na fabricação de medicamentos é a:</div>
                <div class="options">
                    <div class="option" data-question="2" data-value="a">a) RDC 210/2003</div>
                    <div class="option" data-question="2" data-value="b">b) RDC 209/2019</div>
                    <div class="option" data-question="2" data-value="c">c) RDC 658/2022</div>
                    <div class="option" data-question="2" data-value="d">d) RDC 17/2010</div>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Questão 3:</div>
                <div class="question-text">Quais são as consequências do não cumprimento de boas práticas de fabricação:</div>
                <div class="options">
                    <div class="option" data-question="3" data-value="a">a) Prejuízo à saúde do paciente</div>
                    <div class="option" data-question="3" data-value="b">b) Contaminações</div>
                    <div class="option" data-question="3" data-value="c">c) Reclamações de clientes</div>
                    <div class="option" data-question="3" data-value="d">d) Todas as alternativas anteriores</div>
                </div>
            </div>

            <div class="question">
                <div class="question-number">Questão 4:</div>
                <div class="question-text">Como você pode contribuir para a qualidade dos produtos fabricados na NOVAMED:</div>
                <div class="options">
                    <div class="option" data-question="4" data-value="a">a) Não seguir com boas práticas de fabricação</div>
                    <div class="option" data-question="4" data-value="b">b) Utilizar EPIs e uniformes sem seguir com os procedimentos escritos</div>
                    <div class="option" data-question="4" data-value="c">c) Não realizar a higiene pessoal</div>
                    <div class="option" data-question="4" data-value="d">d) Comprometimento e responsabilidade durante o desempenho das atividades</div>
                </div>
            </div>

            <button class="submit-btn" id="submitBtn" disabled>Finalizar Quiz</button>
        </div>

        <div class="result-container" id="resultContainer">
            <h2>Resultado do Quiz</h2>
            <div class="score" id="scoreDisplay"></div>
            <div class="feedback" id="feedbackDisplay"></div>
            <div>
                <button class="restart-btn" id="restartBtn">Refazer Quiz</button>
            </div>
        </div>

        <div class="ranking-container">
            <h2 class="ranking-title">Ranking de Participantes</h2>
            <table id="rankingTable">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Pontuação</th>
                        <th>Data/Hora</th>
                    </tr>
                </thead>
                <tbody id="rankingBody">
                    <!-- Ranking será preenchido dinamicamente -->
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Respostas corretas
        const correctAnswers = {
            1: 'a',
            2: 'c',
            3: 'd',
            4: 'd'
        };

        // Banco de dados simulado de participantes (inicialmente vazio)
        let participants = [];

        // Elementos DOM
        const quizContainer = document.getElementById('quizContainer');
        const resultContainer = document.getElementById('resultContainer');
        const submitBtn = document.getElementById('submitBtn');
        const restartBtn = document.getElementById('restartBtn');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const feedbackDisplay = document.getElementById('feedbackDisplay');
        const rankingBody = document.getElementById('rankingBody');
        const participantName = document.getElementById('participantName');

        // Habilitar botão de submit quando nome for preenchido
        participantName.addEventListener('input', function() {
            submitBtn.disabled = this.value.trim() === '';
        });

        // Adicionar evento aos botões de opção
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const question = this.getAttribute('data-question');
                
                // Remover seleção de outras opções da mesma pergunta
                document.querySelectorAll(`.option[data-question="${question}"]`).forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Adicionar seleção à opção clicada
                this.classList.add('selected');
            });
        });

        // Função para calcular pontuação e mostrar respostas corretas/incorretas
        function calculateScore() {
            let score = 0;
            
            // Verificar cada pergunta
            for (let i = 1; i <= 4; i++) {
                const selectedOption = document.querySelector(`.option[data-question="${i}"].selected`);
                
                if (selectedOption) {
                    const selectedValue = selectedOption.getAttribute('data-value');
                    
                    if (selectedValue === correctAnswers[i]) {
                        score++;
                        selectedOption.classList.add('correct');
                        // Adicionar indicador de resposta correta
                        const indicator = document.createElement('span');
                        indicator.className = 'answer-indicator correct-indicator';
                        indicator.textContent = 'CORRETA';
                        selectedOption.appendChild(indicator);
                    } else {
                        selectedOption.classList.add('incorrect');
                        // Adicionar indicador de resposta incorreta
                        const indicator = document.createElement('span');
                        indicator.className = 'answer-indicator incorrect-indicator';
                        indicator.textContent = 'INCORRETA';
                        selectedOption.appendChild(indicator);
                        
                        // Destacar a resposta correta
                        const correctOption = document.querySelector(`.option[data-question="${i}"][data-value="${correctAnswers[i]}"]`);
                        if (correctOption) {
                            const correctIndicator = document.createElement('span');
                            correctIndicator.className = 'answer-indicator correct-indicator';
                            correctIndicator.textContent = 'CORRETA';
                            correctOption.appendChild(correctIndicator);
                        }
                    }
                } else {
                    // Se não selecionou nada, destacar a resposta correta
                    const correctOption = document.querySelector(`.option[data-question="${i}"][data-value="${correctAnswers[i]}"]`);
                    if (correctOption) {
                        const correctIndicator = document.createElement('span');
                        correctIndicator.className = 'answer-indicator correct-indicator';
                        correctIndicator.textContent = 'CORRETA';
                        correctOption.appendChild(correctIndicator);
                    }
                }
            }
            
            return score;
        }

        // Função para mostrar resultado
        function showResult(score) {
            quizContainer.style.display = 'none';
            resultContainer.style.display = 'block';
            
            scoreDisplay.textContent = `${score}/4`;
            
            // Feedback baseado na pontuação
            let feedback = '';
            if (score === 4) {
                feedback = 'Excelente! Você domina completamente as Boas Práticas de Fabricação!';
            } else if (score === 3) {
                feedback = 'Muito bom! Você tem um ótimo conhecimento sobre BPF.';
            } else if (score === 2) {
                feedback = 'Bom começo! Estude mais sobre as Boas Práticas de Fabricação.';
            } else {
                feedback = 'Precisa melhorar. Revise os conceitos de Boas Práticas de Fabricação.';
            }
            
            feedbackDisplay.textContent = feedback;
            
            // Adicionar participante ao ranking
            const now = new Date();
            const dateString = now.toLocaleDateString('pt-BR') + ' ' + now.toLocaleTimeString('pt-BR');
            participants.push({
                name: participantName.value || "Anônimo",
                score: score,
                date: dateString
            });
            
            updateRanking();
        }

        // Função para atualizar ranking
        function updateRanking() {
            // Limpar tabela
            rankingBody.innerHTML = '';
            
            // Ordenar por pontuação (decrescente)
            participants.sort((a, b) => b.score - a.score);
            
            // Adicionar linhas à tabela
            participants.forEach(participant => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    ${participant.name}</td>
                    <td>${participant.score}/4
                    ${participant.date}</td>
                `;
                rankingBody.appendChild(row);
            });
        }

        // Evento do botão de submissão
        submitBtn.addEventListener('click', function() {
            const score = calculateScore();
            showResult(score);
        });

        // Evento do botão de reinício
        restartBtn.addEventListener('click', function() {
            // Resetar seleções
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
                // Remover indicadores
                const indicators = option.querySelectorAll('.answer-indicator');
                indicators.forEach(indicator => indicator.remove());
            });
            
            // Limpar campo de nome
            participantName.value = '';
            submitBtn.disabled = true;
            
            // Mostrar quiz novamente
            resultContainer.style.display = 'none';
            quizContainer.style.display = 'block';
        });

        // Inicializar ranking vazio
        updateRanking();

        // Tornar o quiz responsivo
        window.addEventListener('resize', function() {
            document.body.style.padding = window.innerWidth < 768 ? '10px' : '20px';
        });
    </script>
</body>
</html>